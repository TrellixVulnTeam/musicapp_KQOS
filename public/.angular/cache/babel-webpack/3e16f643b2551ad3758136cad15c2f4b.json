{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { forkJoin } from 'rxjs';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/observable/throw';\nlet ProfileComponent = class ProfileComponent {\n  constructor(apiDataService, cd, router, route) {\n    this.apiDataService = apiDataService;\n    this.cd = cd;\n    this.router = router;\n    this.route = route;\n    this.imageSrc = '../../../assets/images/user.jpg';\n  }\n\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      console.log(params);\n      console.log('profile');\n      console.log(this.router.url.split('/')[2]);\n      this.id = parseInt(this.router.url.split('/')[2]); // this.artist = this.content;\n\n      this.reloadData(this.id);\n    });\n  }\n\n  reloadData(artist) {\n    forkJoin( // as of RxJS 6.5+ we can use a dictionary of sources\n    {\n      artist: this.apiDataService.getArtistData(artist).subscribe(artistData => {\n        this.artistdata = [artistData];\n        console.log(this.artistdata); //  console.log(' Artist : '+ JSON.stringify(this.artist));\n      }),\n      tracks: this.apiDataService.getArtistTracks(artist).subscribe(artistTracks => {\n        this.tracks = [artistTracks]; //console.log(' Tracks : '+ JSON.stringify(this.tracks));\n      }),\n      albums: this.apiDataService.getArtistAlbums(artist).subscribe(artistsAlbums => {\n        this.albums = [artistsAlbums]; //  console.log(' Albums : '+ JSON.stringify(this.albums));\n      }),\n      related: this.apiDataService.getArtistRelated(artist).subscribe(artistsRelated => {\n        this.related = [artistsRelated]; //  console.log(' Albums : '+ JSON.stringify(this.albums));\n      }),\n      playlists: this.apiDataService.getArtistPlaylists(artist).subscribe(artistsPlaylists => {\n        this.playlists = [artistsPlaylists]; //  console.log(' Albums : '+ JSON.stringify(this.albums));\n      }),\n      radio: this.apiDataService.getArtistPlaylists(artist).subscribe(artistsRadio => {\n        this.radio = [artistsRadio]; //  console.log(' Albums : '+ JSON.stringify(this.albums));\n      }) //,\n      // fans: this.apiDataService.getArtistPlaylists(artist).subscribe((artistsFans)=>{\n      //  this.fans = [artistsFans];\n      // //  console.log(' Albums : '+ JSON.stringify(this.albums));\n      // })\n\n    }).subscribe(data => {\n      try {\n        console.log(data);\n      } catch (err) {\n        console.log(err);\n      }\n    });\n  }\n\n};\nProfileComponent = __decorate([Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.scss']\n})], ProfileComponent);\nexport { ProfileComponent };","map":null,"metadata":{},"sourceType":"module"}